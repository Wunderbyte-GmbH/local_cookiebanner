define("local_cookiebanner/init",["exports","core/ajax"],(function(_exports,_ajax){var obj;
/**
   * @module local_cookiebanner/init
   * @copyright 2025
   * @license   https://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0,_ajax=(obj=_ajax)&&obj.__esModule?obj:{default:obj};_exports.init=(hascookie,templatedata,loggedin)=>{const link=document.getElementById("cookie-settings-link");link&&link.addEventListener("click",(e=>{e.preventDefault(),require(["local_cookiebanner/banner"],(function(banner){banner.showbanner(templatedata,loggedin)}))})),"settech"==localStorage.getItem("cookie_consent_remember")&&hascookie&&_ajax.default.call([{methodname:"local_cookiebanner_delete_username_cookie",args:{}}])[0].then((()=>(console.log("Moodle username cookie deleted."),localStorage.setItem("cookie_consent_remember","settech"),null))).catch((error=>{console.error("Failed to set Moodle username cookie:",error)})),"all"==localStorage.getItem("cookie_consent_remember")&&_ajax.default.call([{methodname:"local_cookiebanner_set_username_cookie",args:{}}])[0].then((()=>(console.log("Moodle username cookie set."),localStorage.setItem("cookie_consent_remember","setall"),null))).catch((error=>{console.error("Failed to set Moodle username cookie:",error)})),"tech"==localStorage.getItem("cookie_consent_remember")&&_ajax.default.call([{methodname:"local_cookiebanner_delete_username_cookie",args:{}}])[0].then((()=>(console.log("Moodle username cookie deleted."),localStorage.setItem("cookie_consent_remember","settech"),null))).catch((error=>{console.error("Failed to set Moodle username cookie:",error)}))}}));

//# sourceMappingURL=init.min.js.map